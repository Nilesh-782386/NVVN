<!doctype html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport"
          content="width=device-width, user-scalable=no, initial-scale=1.0, maximum-scale=1.0, minimum-scale=1.0">
    <meta http-equiv="X-UA-Compatible" content="ie=edge">
    <title>edai</title>
    <link rel="stylesheet" href="style.css">
    <link href="https://fonts.googleapis.com/css2?family=Gelasio:wght@500&display=swap" rel="stylesheet">
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Sedan+SC&display=swap" rel="stylesheet">
    <link
    href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css"
    rel="stylesheet"
    integrity="sha384-QWTKZyjpPEjISv5WaRU9OFeRpok6YctnYmDr5pNlyT2bRjXh0JMhjY6hW+ALEwIH"
    crossorigin="anonymous"
  />
    <link rel="stylesheet" href="css/donate.css">
    <link rel="stylesheet" href="https://fonts.googleapis.com/css2?family=Material+Symbols+Outlined:opsz,wght,FILL,GRAD@48,700,0,200" />
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.1/css/all.min.css">
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Montserrat:ital,wght@0,100..900;1,100..900&display=swap" rel="stylesheet">
</head>
<body>


<nav>
    <a class="logo" href="/">
        <img src="img/logo-nav.svg" alt="logo">
    </a>
    <ul class="nav-bar">
        <li class="nav-bar_item"><a href="tel:+917823865118"><i class="fas fa-phone "></i></a></li>
        <li class="nav-bar_item"><a href="https://wa.me/7823865118"><i class="fa-brands fa-whatsapp footfa-brands"></i></a></li>
</nav>

<div>
    <h1 class="head">Select your donations</h1>
</div>

<form id="donationForm" action="/submit-donation" method="POST">
    <div class="parentdiv">
        <div class="row1">
            <div class="item1">
                <div class="rowdiv">
                    <img src="img/donate/books.svg" alt="" class="itemimg">
                    <div class="hover-overlay">
                        <p class="hover-text">Books</p>
                    </div>
                </div>
                <div class="number-input">
                    <button type="button" onclick="decrease('books')">-</button>
                    <input type="number" id="books" name="books" value="0" min="0" readonly>
                    <button type="button" onclick="increase('books')">+</button>
                </div>
            </div>
            <div class="item1">
                <div class="rowdiv">
                    <img src="img/donate/clothes.svg" alt="" class="itemimg cloth">
                    <div class="hover-overlay">
                        <p class="hover-text">Clothes</p>
                    </div>
                </div>
                <div class="number-input">
                    <button type="button" onclick="decrease('clothes')">-</button>
                    <input type="number" id="clothes" name="clothes" value="0" min="0" readonly>
                    <button type="button" onclick="increase('clothes')">+</button>
                </div>
            </div>
            <div class="item1">
                <div class="rowdiv">
                    <img src="img/donate/food.svg" alt="" class="itemimg cloth">
                    <div class="hover-overlay">
                        <p class="hover-text">Grains</p>
                    </div>
                </div>
                <div class="number-input">
                    <button type="button" onclick="decrease('grains')">-</button>
                    <input type="number" id="grains" name="grains" value="0" min="0" readonly>
                    <button type="button" onclick="increase('grains')">+</button>
                </div>
            </div>
        </div>

        <div class="row1">
            <div class="item1">
                <div class="rowdiv">
                    <img src="img/donate/shoes.svg" alt="" class="itemimg cloth">
                    <div class="hover-overlay">
                        <p class="hover-text">Footwear</p>
                    </div>
                </div>
                <div class="number-input">
                    <button type="button" onclick="decrease('footwear')">-</button>
                    <input type="number" id="footwear" name="footwear"  value="0" min="0" readonly>
                    <button type="button" onclick="increase('footwear')">+</button>
                </div>
            </div>
            <div class="item1">
                <div class="rowdiv">
                    <img src="img/donate/teddy.svg" alt="" class="itemimg cloth">
                    <div class="hover-overlay">
                        <p class="hover-text">Toys & Sports Equipment</p>
                    </div>
                </div>
                <div class="number-input">
                    <button type="button" onclick="decrease('toys')">-</button>
                    <input type="number" id="toys" name="toys" value="0" readonly>
                    <button type="button" onclick="increase('toys')">+</button>
                </div>
            </div>
            <div class="item1">
                <div class="rowdiv">
                    <img src="img/donate/stationary.svg" alt="" class="itemimg cloth">
                    <div class="hover-overlay">
                        <p class="hover-text">School supplies</p>
                    </div>
                </div>
                <div class="number-input">
                    <button type="button" onclick="decrease('schoolSupplies')">-</button>
                    <input type="number" id="schoolSupplies" name="schoolSupplies" value="0" min="0" readonly>
                    <button type="button" onclick="increase('schoolSupplies')">+</button>
                </div>
            </div>
        </div>
        
    </div>

    <!-- Special Items Section -->
    <div class="special-items-section">
        <div class="special-items-header">
            <h3>Don't see what you want to donate?</h3>
            <p>Add special items that aren't in our standard categories</p>
        </div>
        <div class="special-items-button" onclick="openCustomItemModal()">
            <div class="special-items-icon">
                <i class="fas fa-plus-circle" id="specialItemsIcon"></i>
            </div>
            <div class="special-items-text">
                <span id="specialItemsText">Add Special Items</span>
                <small>Click to describe your donation</small>
            </div>
        </div>
    </div>

    <!-- Hybrid AI + Manual Priority Selection -->
    <div class="priority-section">
        <h3>Priority Level</h3>
        
        <!-- AI Suggestion Display -->
        <div id="aiSuggestion" class="ai-suggestion" style="display: none;">
            <div class="ai-suggestion-header">
                <i class="fas fa-robot"></i>
                <span>AI Recommendation</span>
            </div>
            <div class="ai-suggestion-content">
                <div id="aiSuggestionBadge" class="ai-suggestion-badge"></div>
                <div id="aiSuggestionReason" class="ai-suggestion-reason"></div>
                <div class="ai-confidence">
                    <span>Confidence: <span id="aiConfidence"></span>%</span>
                </div>
            </div>
        </div>
        
        <!-- Manual Priority Selection -->
        <div class="manual-priority">
            <h4>Or choose your own priority:</h4>
            <div class="priority-options">
                <label class="priority-option critical">
                    <input type="radio" name="final_priority" value="critical" id="priority_critical">
                    <span class="priority-badge critical">ðŸ”´ CRITICAL</span>
                    <span class="priority-desc">Life-saving items like medicines, blood, oxygen</span>
                </label>
                <label class="priority-option high">
                    <input type="radio" name="final_priority" value="high" id="priority_high">
                    <span class="priority-badge high">ðŸŸ¡ HIGH</span>
                    <span class="priority-desc">Perishable items like food, fresh vegetables</span>
                </label>
                <label class="priority-option medium">
                    <input type="radio" name="final_priority" value="medium" id="priority_medium" checked>
                    <span class="priority-badge medium">ðŸŸ¢ MEDIUM</span>
                    <span class="priority-desc">Essential items like clothes, blankets, school supplies</span>
                </label>
                <label class="priority-option low">
                    <input type="radio" name="final_priority" value="low" id="priority_low">
                    <span class="priority-badge low">âšª LOW</span>
                    <span class="priority-desc">Non-essential items like books, toys, entertainment</span>
                </label>
            </div>
        </div>
        
        <!-- Hidden fields for AI data -->
        <input type="hidden" name="ai_suggested_priority" id="ai_suggested_priority">
        <input type="hidden" name="is_manual_override" id="is_manual_override" value="false">
    </div>

    <div>
        <button type="submit" value="submit" class="nextbut">NEXT</button>
    </div>
</form>

<!-- Special Items Modal -->
<div id="specialItemsModal" class="modal-overlay" style="display: none;">
    <div class="modal-content">
        <div class="modal-header">
            <h3><i class="fas fa-gift"></i> Special Items Donation</h3>
            <button class="modal-close" onclick="closeCustomItemModal()">
                <i class="fas fa-times"></i>
            </button>
        </div>
        
        <div class="modal-body">
            <div class="modal-description">
                <p>Donate items that are not in our standard categories. Describe what you're donating and we'll help you set the right priority.</p>
            </div>
            
            <!-- Quantity Slider -->
            <div class="quantity-slider-section">
                <label for="customQuantity">How many items are you donating?</label>
                <div class="slider-container">
                    <input type="range" id="customQuantity" name="custom_quantity" min="1" max="20" value="5" 
                           oninput="updateQuantityDisplay(this.value)" class="quantity-slider">
                    <div class="slider-labels">
                        <span>1</span>
                        <span>5</span>
                        <span>10</span>
                        <span>15</span>
                        <span>20+</span>
                    </div>
                    <div class="quantity-display">
                        <span id="quantityValue">5</span> items
                    </div>
                </div>
            </div>
            
            <!-- Description Textarea -->
            <div class="description-section">
                <label for="customDescription">What are you donating?</label>
                <textarea id="customDescription" name="custom_description" 
                          placeholder="Describe your donation items in detail...&#10;&#10;Examples:&#10;â€¢ Medical equipment for hospital&#10;â€¢ Baby food and formula&#10;â€¢ Furniture for new home&#10;â€¢ Electronics and gadgets&#10;â€¢ Art supplies for school&#10;â€¢ Sports equipment"
                          rows="6" oninput="analyzeCustomDescription()" class="description-textarea"></textarea>
            </div>
            
            <!-- AI Suggestion Display -->
            <div id="modalAiSuggestion" class="modal-ai-suggestion" style="display: none;">
                <div class="ai-suggestion-header">
                    <i class="fas fa-robot"></i>
                    <span>AI Recommendation</span>
                </div>
                <div class="ai-suggestion-content">
                    <div id="modalAiSuggestionBadge" class="ai-suggestion-badge"></div>
                    <div id="modalAiSuggestionReason" class="ai-suggestion-reason"></div>
                    <div class="ai-confidence">
                        <span>Confidence: <span id="modalAiConfidence"></span>%</span>
                    </div>
                </div>
            </div>
        </div>
        
        <div class="modal-footer">
            <button type="button" class="btn-cancel" onclick="closeCustomItemModal()">Cancel</button>
            <button type="button" class="btn-save" onclick="saveCustomItem()">Add Special Items</button>
        </div>
    </div>
</div>

<section class="footer">
    <footer class="py-3 my-4">
      <ul class="nav justify-content-center border-bottom pb-3 mb-3">
        <li class="nav-item"><a href="#" class="nav-link px-2 text-body-secondary">Home</a></li>
        <li class="nav-item"><a href="#" class="nav-link px-2 text-body-secondary">Features</a></li>
        <li class="nav-item"><a href="#" class="nav-link px-2 text-body-secondary">Pricing</a></li>
        <li class="nav-item"><a href="#" class="nav-link px-2 text-body-secondary">FAQs</a></li>
        <li class="nav-item"><a href="#" class="nav-link px-2 text-body-secondary">About</a></li>
      </ul>
      <p class="text-center text-body-secondary">Â© 2024 Company, Inc</p>
    </footer>
</section>

</body>
<script src="js/donate.js"></script>
<script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/js/bootstrap.bundle.min.js" integrity="sha384-YvpcrYf0tY3lHB60NNkmXc5s9fDVZLESaAA55NDzOxhy9GkcIdslK1eN7N6jIeHz" crossorigin="anonymous"></script>

<!-- CareConnect AI Chatbot -->
<script src="/js/chatbot.js"></script>
</html>
